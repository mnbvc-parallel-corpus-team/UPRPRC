import matplotlib.pyplot as plt
import pandas as pd

# 数据
data = {
    # "1974": {"zh": 1687},
    # "1983": {"ar": 959, "de": 958},
    # "1985": {"es": 17724, "fr": 13913},
    # "1986": {"es": 23444, "fr": 11927},
    # "1992": {"ar": 33810, "en": 1793, "es": 15910, "fr": 10297, "ru": 863}, 
    # "1993": {"ar": 71083, "en": 14843, "es": 61693, "fr": 53005, "ru": 19443}, 
    # "1994": {"ar": 8908, "en": 7871, "es": 9983, "fr": 8095, "ru": 4138}, 
    # "1995": {"ar": 2232, "en": 1028, "es": 392, "fr": 445, "ru": 2439}, 
    # "1996": {"ar": 14878, "en": 13013, "es": 9675, "fr": 13820, "ru": 17020, "zh": 3498}, 
    # "1997": {"ar": 16066, "en": 12388, "es": 9931, "fr": 12453, "ru": 16147, "zh": 2660}, 
    # "1998": {"ar": 41042, "en": 26875, "es": 35206, "fr": 31224, "ru": 48094, "zh": 16899}, 
    "1999": {"ar": 239775, "de": 3406, "en": 127809, "es": 162801, "fr": 161294, "ru": 232632, "zh": 70382}, 
    "2000": {"ar": 760144, "de": 57225, "en": 458975, "es": 528435, "fr": 492833, "ru": 711677, "zh": 210703}, 
    "2001": {"ar": 734023, "de": 50243, "en": 441137, "es": 533734, "fr": 486452, "ru": 697340, "zh": 197561}, 
    "2002": {"ar": 737570, "de": 54741, "en": 465890, "es": 553296, "fr": 482263, "ru": 734217, "zh": 196856}, 
    "2003": {"ar": 709291, "de": 63838, "en": 450681, "es": 521351, "fr": 466335, "ru": 691055, "zh": 189121},
    "2004": {"ar": 753088, "de": 50981, "en": 486683, "es": 542697, "fr": 503064, "ru": 733004, "zh": 223144}, 
    "2005": {"ar": 726692, "de": 42460, "en": 476160, "es": 537898, "fr": 481953, "ru": 717666, "zh": 213483}, 
    "2006": {"ar": 776013, "de": 45959, "en": 512992, "es": 571397, "fr": 522009, "ru": 764330, "zh": 229990}, 
    "2007": {"ar": 726483, "de": 42733, "en": 485430, "es": 537983, "fr": 494952, "ru": 712103, "zh": 212665}, 
    "2008": {"ar": 800455, "de": 40816, "en": 540446, "es": 598793, "fr": 549321, "ru": 779714, "zh": 239174}, 
    "2009": {"ar": 803375, "de": 30282, "en": 563298, "es": 612563, "fr": 574596, "ru": 801799, "zh": 295846}, 
    "2010": {"ar": 820461, "de": 37786, "en": 563397, "es": 614217, "fr": 588825, "ru": 828607, "zh": 248994},
    "2011": {"ar": 862159, "de": 55185, "en": 591080, "es": 640991, "fr": 606895, "ru": 853087, "zh": 256610},
    "2012": {"ar": 784816, "de": 45398, "en": 550063, "es": 599971, "fr": 564673, "ru": 794577, "zh": 273348},
    "2013": {"ar": 809141, "de": 57859, "en": 565489, "es": 603750, "fr": 592112, "ru": 789869, "zh": 245794},
    "2014": {"ar": 820597, "de": 52179, "en": 566114, "es": 605834, "fr": 587538, "ru": 809650, "zh": 249689},
    "2015": {"ar": 443720, "de": 59595, "en": 307102, "es": 300346, "fr": 301218, "ru": 419293, "zh": 140887},
    "2016": {"ar": 458728, "de": 50133, "en": 314601, "es": 332210, "fr": 335454, "ru": 447583, "zh": 157910},
    "2017": {"ar": 842146, "de": 41717, "en": 570329, "es": 628626, "fr": 587432, "ru": 822958, "zh": 284924},
    "2018": {"ar": 799077, "de": 48340, "en": 541557, "es": 596884, "fr": 541688, "ru": 785822, "zh": 243312},
    "2019": {"ar": 847140, "de": 37441, "en": 575613, "es": 638035, "fr": 573486, "ru": 823154, "zh": 252927},
    "2020": {"ar": 773326, "de": 40848, "en": 545936, "es": 604832, "fr": 542007, "ru": 778263, "zh": 295847},
    "2021": {"ar": 857300, "de": 34027, "en": 647725, "es": 663509, "fr": 611477, "ru": 864369, "zh": 326905},
    "2022": {"ar": 833798, "de": 36021, "en": 602698, "es": 656302, "fr": 602453, "ru": 841521, "zh": 284643},
    "2023": {"ar": 473417, "de": 18795, "en": 329486, "es": 382050, "fr": 331292, "ru": 482772, "zh": 159483},
    # "2024": {"ar": 1942, "en": 1382, "es": 1587, "fr": 1593, "ru": 1958, "zh": 1140},
    # "2025": {"ar": 2650, "en": 2668, "es": 3096, "fr": 2971, "ru": 4035, "zh": 1890}
}


# 构造 DataFrame
df = pd.DataFrame.from_dict(data, orient='index').sort_index().fillna(0)

# 绘制折线图
fig, ax = plt.subplots(figsize=(12, 6))
for lang in df.columns:
    ax.plot(df.index.astype(int), df[lang], label=lang)

ax.set_title('Words per Language Over Years')
ax.set_xlabel('Year')
ax.set_ylabel('Total Words')
ax.legend(loc='upper left')
plt.xticks(rotation=45)
plt.tight_layout()
# plt.show()
plt.savefig(__file__.replace(".py",".svg"), format="svg")

